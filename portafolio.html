<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Base de Datos II - Repositorio Profesional</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        /* Estilos adicionales para el CRUD */
        .crud-section {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 15px;
            padding: 25px;
            margin: 30px 0;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(0, 210, 255, 0.2);
        }
        
        .crud-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }
        
        .crud-header h2 {
            color: #0ff;
            text-shadow: 0 0 10px rgba(0, 210, 255, 0.7);
        }
        
        .crud-actions {
            display: flex;
            gap: 15px;
        }
        
        .crud-button {
            background: #4285F4;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
            font-weight: 500;
            display: flex;
            align-items: center;
            gap: 8px;
            transition: all 0.3s;
        }
        
        .crud-button:hover {
            background: #3367D6;
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0,0,0,0.2);
        }
        
        .crud-button.add {
            background: #10B981;
        }
        
        .crud-button.add:hover {
            background: #059669;
        }
        
        .projects-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 25px;
        }
        
        .project-card-crud {
            background: rgba(255, 255, 255, 0.08);
            border-radius: 12px;
            overflow: hidden;
            transition: all 0.3s;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .project-card-crud:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(0,0,0,0.3);
            border-color: rgba(0, 210, 255, 0.4);
        }
        
        .project-image-crud {
            width: 100%;
            height: 180px;
            object-fit: cover;
            background: linear-gradient(135deg, #0f2027, #203a43);
        }
        
        .project-content-crud {
            padding: 20px;
        }
        
        .project-title-crud {
            font-size: 1.3rem;
            margin-bottom: 10px;
            color: #0ff;
        }
        
        .project-description-crud {
            color: #9ad6e3;
            margin-bottom: 15px;
            min-height: 60px;
        }
        
        .project-actions-crud {
            display: flex;
            gap: 10px;
        }
        
        .action-button {
            flex: 1;
            padding: 8px 12px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-weight: 500;
            text-align: center;
        }
        
        .edit-btn {
            background: #3B82F6;
            color: white;
        }
        
        .delete-btn {
            background: #EF4444;
            color: white;
        }
        
        /* Modal Styles */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.7);
            z-index: 1000;
            justify-content: center;
            align-items: center;
        }
        
        .modal-content {
            background: linear-gradient(135deg, #0f2027, #203a43);
            border-radius: 15px;
            width: 90%;
            max-width: 500px;
            padding: 30px;
            position: relative;
            border: 1px solid rgba(0, 210, 255, 0.4);
            box-shadow: 0 15px 35px rgba(0,0,0,0.5);
        }
        
        .close-modal {
            position: absolute;
            top: 15px;
            right: 15px;
            font-size: 24px;
            cursor: pointer;
            color: #9ad6e3;
        }
        
        .modal-title {
            color: #0ff;
            margin-bottom: 20px;
            text-align: center;
        }
        
        .form-group {
            margin-bottom: 20px;
        }
        
        .form-group label {
            display: block;
            margin-bottom: 8px;
            color: #9ad6e3;
        }
        
        .form-group input,
        .form-group textarea {
            width: 100%;
            padding: 12px;
            border-radius: 8px;
            border: 1px solid #2c5364;
            background: rgba(255, 255, 255, 0.05);
            color: white;
            font-size: 1rem;
        }
        
        .form-group textarea {
            min-height: 120px;
            resize: vertical;
        }
        
        .form-actions {
            display: flex;
            justify-content: flex-end;
            gap: 15px;
            margin-top: 20px;
        }
        
        .save-btn {
            background: #10B981;
            color: white;
            border: none;
            padding: 12px 25px;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 500;
            font-size: 1rem;
        }
        
        .cancel-btn {
            background: #6B7280;
            color: white;
            border: none;
            padding: 12px 25px;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 500;
            font-size: 1rem;
        }
    </style>
</head>
<body>
    <!-- Overlay de autenticación -->
    <div id="auth-overlay" class="auth-overlay">
        <div class="auth-box">
            <div class="auth-spinner"></div>
            <p class="auth-message">Verificando autenticación...</p>
            <div id="auth-error" class="auth-error">
                <h3>Acceso requerido</h3>
                <p>Debes iniciar sesión para acceder a este contenido</p>
                <p>Redirigiendo a la página de inicio...</p>
            </div>
        </div>
    </div>

    <!-- Hero section -->
    <div class="hero">
        <div class="hero-content">
            <div class="perfil-box">
                <img src="img/Perfil.jpeg" alt="Foto de perfil" class="foto-circular">
                <p class="nombre-autor">Jimmy Espinoza Flores</p>
            </div>
            <div class="hero-text">
                <h1 class="hero-title">Mi Repositorio Académico</h1>
                <p class="hero-subtitle">Base de Datos II - Evolución por Semana</p>
                <div class="hero-stats">
                    <div class="stat-item">
                        <i class="fas fa-book"></i>
                        <span>18+ Módulos</span>
                    </div>
                    <div class="stat-item">
                        <i class="fas fa-code"></i>
                        <span>25+ Actividades</span>
                    </div>
                    <div class="stat-item">
                        <i class="fas fa-graduation-cap"></i>
                        <span>Progreso: 95%</span>
                    </div>
                </div>
            </div>
            <img src="img/logo upla.png" alt="Logo UPLA" class="university-logo">
        </div>
    </div>

    <!-- Navigation -->
    <div class="navigation">
        <div class="container">
            <nav>
                <ul>
                    <li><a href="#semana1"><i class="fas fa-home"></i> Inicio</a></li>
                    <li><a href="#semana1">Semanas</a></li>
                    <li><a href="#examen1">Exámenes</a></li>
                    <li><a href="#">Recursos</a></li>
                    <li><a href="#">Contacto</a></li>
                    <li>
                        <button onclick="logout()" class="logout-button">
                            <i class="fas fa-sign-out-alt"></i> Cerrar sesión
                        </button>
                    </li>
                </ul>
            </nav>
        </div>
    </div>

    <!-- Main content -->
    <main class="container">
        <!-- Sección CRUD para proyectos -->
        <section id="crud-projects" class="crud-section">
            <div class="crud-header">
                <h2><i class="fas fa-project-diagram"></i> Administrar Proyectos</h2>
                <div class="crud-actions">
                    <button class="crud-button add" onclick="openCreateModal()">
                        <i class="fas fa-plus"></i> Nuevo Proyecto
                    </button>
                    <button class="crud-button" onclick="refreshProjects()">
                        <i class="fas fa-sync"></i> Actualizar
                    </button>
                </div>
            </div>
            
            <div id="projects-container" class="projects-grid">
                <!-- Los proyectos se cargarán aquí dinámicamente -->
            </div>
        </section>

        <section class="section-header">
            <h2>Progreso Académico</h2>
            <p>Explora los materiales y actividades semana por semana</p>
        </section>

        <div class="cards-container">
            <!-- Semana 1 -->
            <section id="semana1" class="week-card">
                <div class="week-header">
                    <div class="week-number">01</div>
                    <div class="week-titles">
                        <h2>Semana_01</h2>
                        <p class="week-subtitle">Resumen</p>
                    </div>
                    <span class="update-badge">Actualizado</span>
                </div>
                <div class="week-body">
                    <div class="week-description">
                        <p>R</p>
                        <ul class="week-features">
                            <li>✓ Modelos de datos</li>
                            <li>✓ Arquitectura ANSI-SPARC</li>
                            <li>✓ Lenguajes de consulta</li>
                        </ul>
                    </div>
                    <div class="week-actions">
                        <a href="https://www.canva.com/design/DAGjhW3b3Z4/1F8Msflp4mXHkiPCdT5GOg/edit" class="material-button canva" target="_blank">
                            <span class="button-icon">🎨</span>
                            Ver en Canva
                        </a>
                    </div>
                </div>
            </section>

            <!-- Semana 2 -->
            <section id="semana2" class="week-card">
                <div class="week-header">
                    <div class="week-number">02</div>
                    <div class="week-titles">
                        <h2>SEMANA_02</h2>
                        <p class="week-subtitle">Modelado conceptual</p>
                    </div>
                    <span class="update-badge new">Nuevo</span>
                </div>
                <div class="week-body">
                    <div class="week-description">
                        <p>Modelado de los enunciados con notación Chen y Crow's Foot</p>
                        <div class="week-tags">
                            <span class="tag">Miro</span>
                            <span class="tag">UML</span>
                            <span class="tag">Cardinalidades</span>
                        </div>
                    </div>
                    <div class="week-actions">
                        <div class="buttons-group">
                            <a href="https://miro.com/app/board/uXjVIKKtp7I=/?share_link_id=351356854071" class="material-button miro" target="_blank">
                                <i class="fas fa-project-diagram button-icon"></i>
                                Enunciado 1
                            </a>
                            <a href="https://miro.com/app/board/uXjVIEViWTk=/?share_link_id=707711672275" class="material-button miro" target="_blank">
                                <i class="fas fa-networked-database button-icon"></i>
                                Enunciado 2
                            </a>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Semana 3 -->
            <section id="semana3" class="week-card">
                <div class="week-header">
                    <div class="week-number">03</div>
                    <div class="week-titles">
                        <h2>Tablas Relacionales</h2>
                        <p class="week-subtitle">Implementación práctica</p>
                    </div>
                    <span class="update-badge">En progreso</span>
                </div>
                <div class="week-body">
                    <div class="week-description">
                        <p>Normalización de tablas y relaciones entre entidades</p>
                        <div class="progress-bar">
                            <div class="progress" style="width: 65%"></div>
                        </div>
                    </div>
                    <div class="week-actions">
                        <a href="https://docs.google.com/spreadsheets/d/1qCrRLu40WDrcBY35mrMY3RNO7dEVE-ErY9tIFCTk134/edit?usp=sharing" class="material-button sheets" target="_blank">
                            <span class="button-icon">📑</span>
                            Ver Tablas
                        </a>
                    </div>
                </div>
            </section>

            <!-- Semana 4 -->
            <section id="semana4" class="week-card">
                <div class="week-header">
                    <div class="week-number">04</div>
                    <div class="week-titles">
                        <h2>Modelo Conceptual - Diagramas E/R</h2>
                        <p class="week-subtitle">Desarrollo avanzado</p>
                    </div>
                    <span class="update-badge new">Nuevo</span>
                </div>
                <div class="week-body">
                    <div class="week-description">
                        <p>Diagramas detallados con notación Chen y Crow's Foot para casos complejos</p>
                        <div class="week-tags">
                            <span class="tag">Canva</span>
                            <span class="tag">Normalización</span>
                            <span class="tag">Relaciones</span>
                        </div>
                    </div>
                    <div class="week-actions">
                        <div class="buttons-group">
                            <a href="https://www.canva.com/design/DAGlGT8bDKY/X9zQTtO7hgex5OSJE5TPYQ/view" class="material-button canva" target="_blank">
                                <span class="button-icon">🎨</span>
                                Enunciado 1
                            </a>
                            <a href="https://www.canva.com/design/DAGlGubxnV4/svhKEBY3HG4keco_plw4eg/view" class="material-button canva" target="_blank">
                                <span class="button-icon">📊</span>
                                Enunciado 2
                            </a>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Semana 5 -->
            <section id="semana5" class="week-card">
                <div class="week-header">
                    <div class="week-number">05</div>
                    <div class="week-titles">
                        <h2>Registro y Base de Datos</h2>
                        <p class="week-subtitle">Guía práctica en Microsoft Access</p>
                    </div>
                    <span class="update-badge new">Nuevo</span>
                </div>
                <div class="week-body">
                    <div class="week-description">
                        <p>Implementación de sistema de registro y creación de base de datos con:</p>
                        <ul class="week-features">
                            <li>✓ Registro</li>
                            <li>✓ Inicio de Sesión</li>
                            <li>✓ Generación de Base de Datos</li>
                        </ul>
                        <div class="week-tags">
                            <span class="tag">Guía Práctica</span>
                            <span class="tag">Microsoft Azure</span>
                            <span class="tag">Registro de Usuarios</span>
                        </div>
                    </div>
                    <div class="week-actions">
                        <a href="https://www.canva.com/design/DAGl3x54IsA/RaSMVcBqlbN9USvtAnZOSQ/view" class="material-button canva" target="_blank">
                            <span class="button-icon">📘</span>
                            Ver Manual Completo
                        </a>
                    </div>
                </div>
            </section>

            <!-- Semana 6 -->
            <section id="semana6" class="week-card">
                <div class="week-header">
                    <div class="week-number">06</div>
                    <div class="week-titles">
                        <h2>Página Web en Azure</h2>
                        <p class="week-subtitle">Manual de como subir la página web de GITHUB hacia Azure</p>
                    </div>
                    <span class="update-badge new">Nuevo</span>
                </div>
                <div class="week-body">
                    <div class="week-description">
                        <p>Práctica y guía para la carga de mi página web a Microsoft Azure.</p>
                        <div class="week-tags">
                            <span class="tag">Azure</span>
                            <span class="tag">GitHub</span>
                            <span class="tag">Canva</span>
                        </div>
                    </div>
                    <div class="week-actions">
                        <a href="https://www.canva.com/design/DAGmuobX94Q/d9MOApT45K-0FTPdQQCOyg/view?utm_content=DAGmuobX94Q&utm_campaign=designshare&utm_medium=link2&utm_source=uniquelinks&utlId=h2bb7d4c4f5" class="material-button canva" target="_blank">
                            <span class="button-icon">🧩</span>
                            Ver Canva Semana 6
                        </a>
                    </div>
                </div>
            </section>

            <!-- Examen Parcial -->
            <section id="examen1" class="week-card">
                <div class="week-header">
                    <div class="week-number">EX</div>
                    <div class="week-titles">
                        <h2>Primer Examen Parcial</h2>
                        <p class="week-subtitle">Evaluación inicial</p>
                    </div>
                    <span class="update-badge important">Importante</span>
                </div>
                <div class="week-body">
                    <div class="week-description">
                        <p>Material de preparación y recursos para el primer examen parcial</p>
                    </div>
                    <div class="week-actions">
                        <div class="buttons-group">
                            <a href="https://docs.google.com/document/d/1YJVrLAQ-lF3gZb0qFfaxu6MEreE69UDuEwX2qNW2JD0/edit?usp=sharing" 
                               class="material-button exam" 
                               target="_blank"
                               rel="noopener noreferrer">
                                <span class="button-icon">📝</span>
                                Pruebas
                            </a>
                            <a href="https://drive.google.com/uc?export=download&id=1SIvDIHCaEaUaPnMJlOy8UNgXGVyjPTl-" 
                               class="material-button pdf" 
                               download="NombreDelArchivo.pdf"
                               rel="noopener noreferrer">
                                <span class="button-icon">📄</span>
                                Descargar PDF
                            </a>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Semana 10 -->
            <section id="semana10" class="week-card">
                <div class="week-header">
                    <div class="week-number">10</div>
                    <div class="week-titles">
                        <h2>Semana 10 - Actividades Combinadas</h2>
                        <p class="week-subtitle">Trabajos de la semana 10</p>
                    </div>
                    <span class="update-badge new">Nuevo</span>
                </div>
                <div class="week-body">
                    <div class="week-description">
                        <p>En esta sección se encuentran agrupadas las actividades correspondientes a la semana 10.</p>
                        <div class="week-tags">
                            <span class="tag">Consultas</span>
                            <span class="tag">Base de Datos</span>
                        </div>
                    </div>
                    <div class="week-actions">
                        <div class="buttons-group">
                            <a href="https://docs.google.com/document/d/11F-vBC0ybYxilvI_ljJYjU-yKmHCNFCse-9xtzhUN8w/edit?usp=sharing" class="material-button canva" target="_blank">
                                <span class="button-icon">📌</span>
                                Trabajo Semana 10 - 1
                            </a>
                            <a href="https://docs.google.com/document/d/1jmGm4t-UOf3j5QYhtW6GjJh7jJb9OVoLx3i2j3El2V8/edit?usp=sharing" class="material-button canva" target="_blank">
                                <span class="button-icon">📎</span>
                                Trabajo Semana 10 - 2
                            </a>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Semana 11 -->
            <section id="semana11" class="week-card">
                <div class="week-header">
                    <div class="week-number">11</div>
                    <div class="week-titles">
                        <h2>Semana 11 - Consultas</h2>
                        <p class="week-subtitle">Consultas con la base de datos Empleados</p>
                    </div>
                    <span class="update-badge new">Nuevo</span>
                </div>
                <div class="week-body">
                    <div class="week-description">
                        <p>En esta sección se presenta el trabajo correspondiente a la semana 11.</p>
                        <div class="week-tags">
                            <span class="tag">Consultas</span>
                            <span class="tag">Base de Datos</span>
                            <span class="tag">SQL</span>
                        </div>
                    </div>
                    <div class="week-actions">
                        <div class="buttons-group">
                            <a href="https://docs.google.com/document/d/1_cPcXeobNLuqT9bBzEt8Dz7ZuTJ4fXEnHrSpWSxUWbs/edit?usp=sharing" class="material-button canva" target="_blank">
                                <span class="button-icon">📎</span>
                                Trabajo Semana 11
                            </a>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Semana 12 -->
            <section id="semana12" class="week-card">
                <div class="week-header">
                    <div class="week-number">12</div>
                    <div class="week-titles">
                        <h2>Módulos de Aprendizaje</h2>
                        <p class="week-subtitle">Instalación y administración de bases de datos</p>
                    </div>
                    <span class="update-badge new">Nuevo</span>
                </div>
                <div class="week-body">
                    <div class="week-description">
                        <p>Material avanzado sobre administración de bases de datos con SQL Server:</p>
                        <ul class="week-features">
                            <li>✓ Instalación y configuración de SQL Server</li>
                            <li>✓ Creación y administración de bases de datos</li>
                            <li>✓ Mantenimiento y optimización</li>
                        </ul>
                    </div>
                    <div class="week-actions">
                        <div class="buttons-group">
                            <a href="https://docs.google.com/document/d/1AsCbp9qLnkfkZXAsl-3m_DIGJbunOK93v48EmR0jJ3k/edit?usp=sharing" 
                               class="material-button docs" 
                               target="_blank">
                                <i class="fas fa-database button-icon"></i>
                                Módulo 2: Instalación SQL
                            </a>
                            <a href="https://docs.google.com/document/d/1M6A_D-B4q5TSU1LJ8MssKDwxRdZScOzSARNz6z29ZNs/edit?usp=sharing" 
                               class="material-button docs" 
                               target="_blank">
                                <i class="fas fa-server button-icon"></i>
                                Módulo 3: Administración BD
                            </a>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Semana 13 -->
            <section id="semana13" class="week-card">
                <div class="week-header">
                    <div class="week-number">13</div>
                    <div class="week-titles">
                        <h2>Módulos de Seguridad y Consultas</h2>
                        <p class="week-subtitle">Seguridad en SQL Server y Consultas Avanzadas</p>
                    </div>
                    <span class="update-badge new">Nuevo</span>
                </div>
                <div class="week-body">
                    <div class="week-description">
                        <p>Material avanzado sobre seguridad en bases de datos y técnicas de consultas avanzadas:</p>
                        <ul class="week-features">
                            <li>✓ Configuración de seguridad y permisos</li>
                            <li>✓ Cifrado de datos y auditoría</li>
                            <li>✓ Funciones de agregación y uniones complejas</li>
                            <li>✓ Funciones de ventana y análisis avanzado</li>
                        </ul>
                        <div class="week-tags">
                            <span class="tag">Seguridad</span>
                            <span class="tag">Consultas Avanzadas</span>
                            <span class="tag">SQL Server</span>
                        </div>
                    </div>
                    <div class="week-actions">
                        <div class="buttons-group">
                            <a href="https://docs.google.com/document/d/1Wk6S4iPMlFqq5kFkcRTtF8G3NRZfZjtLXby-fD5WECg/edit?usp=sharing" 
                               class="material-button docs" 
                               target="_blank">
                                <i class="fas fa-shield-alt button-icon"></i>
                                Módulo 4: Seguridad SQL Server
                            </a>
                            <a href="https://docs.google.com/document/d/1qbGPLRJ0qmvxgNWkt-srwGT-Z-ipCwIGT6ebS2BFEKA/edit?usp=sharing" 
                               class="material-button docs" 
                               target="_blank">
                                <i class="fas fa-search-plus button-icon"></i>
                                Módulo 5: Consultas Avanzadas
                            </a>
                        </div>
                    </div>
                </div>
            </section>
            
            <!-- Semana 14 -->
            <section id="semana14" class="week-card">
                <div class="week-header">
                    <div class="week-number">14</div>
                    <div class="week-titles">
                        <h2>Módulos de Desarrollo Avanzado</h2>
                        <p class="week-subtitle">Optimización y rendimiento en bases de datos</p>
                    </div>
                    <span class="update-badge new">Nuevo</span>
                </div>
                <div class="week-body">
                    <div class="week-description">
                        <p>Material avanzado sobre técnicas de optimización y mejora del rendimiento:</p>
                        <ul class="week-features">
                            <li>✓ Índices and optimización de consultas</li>
                            <li>✓ Planes de ejecución y análisis</li>
                            <li>✓ Particionamiento de datos</li>
                            <li>✓ Técnicas de caching</li>
                        </ul>
                        <div class="week-tags">
                            <span class="tag">Optimización</span>
                            <span class="tag">Rendimiento</span>
                            <span class="tag">SQL Server</span>
                        </div>
                    </div>
                    <div class="week-actions">
                        <div class="buttons-group">
                            <a href="https://docs.google.com/document/d/1Big0-NeHf1zSzHSbsYUJKgBeRChkMy64mkec61-8Zts/edit?usp=sharing" 
                               class="material-button docs" 
                               target="_blank">
                                <i class="fas fa-bolt button-icon"></i>
                                Módulo 6: Optimización BD
                            </a>
                            <a href="https://docs.google.com/document/d/16tD76zKV8cL6sO7MYSlA8GqXpHdjPNl76z1M-eaIwsQ/edit?usp=sharing" 
                               class="material-button docs" 
                               target="_blank">
                                <i class="fas fa-chart-line button-icon"></i>
                                Módulo 7: Rendimiento Avanzado
                            </a>
                        </div>
                    </div>
                </div>
            </section>
            
            <!-- Semana 15 -->
            <section id="semana15" class="week-card">
                <div class="week-header">
                    <div class="week-number">15</div>
                    <div class="week-titles">
                        <h2>Módulo de Integración</h2>
                        <p class="week-subtitle">Despliegue y monitoreo de sistemas</p>
                    </div>
                    <span class="update-badge important">Final</span>
                </div>
                <div class="week-body">
                    <div class="week-description">
                        <p>Material completo sobre despliegue de sistemas y monitoreo de rendimiento:</p>
                        <ul class="week-features">
                            <li>✓ Estrategias de despliegue</li>
                            <li>✓ Monitoreo en tiempo real</li>
                            <li>✓ Alertas y notificaciones</li>
                            <li>✓ Mantenimiento preventivo</li>
                        </ul>
                        <div class="week-tags">
                            <span class="tag">Despliegue</span>
                            <span class="tag">Monitoreo</span>
                            <span class="tag">Producción</span>
                        </div>
                    </div>
                    <div class="week-actions">
                        <div class="buttons-group">
                            <a href="https://docs.google.com/document/d/1IspE3w70fbvGCHqeNdnXxNmDXjh0FWjwZqhTzQB0mQ8/edit?usp=sharing" 
                               class="material-button docs" 
                               target="_blank">
                                <i class="fas fa-rocket button-icon"></i>
                                Módulo 8: Despliegue Final
                            </a>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Semana 13 - Práctica -->
            <section id="semana13-practica" class="week-card">
                <div class="week-header">
                    <div class="week-number">P13</div>
                    <div class="week-titles">
                        <h2>Práctica - Semana 13</h2>
                        <p class="week-subtitle">Trabajo práctico de la semana 13</p>
                    </div>
                    <span class="update-badge">Práctica</span>
                </div>
                <div class="week-body">
                    <div class="week-description">
                        <p>Enlace al desarrollo completo de la práctica correspondiente a la semana 13:</p>
                    </div>
                    <div class="week-actions">
                        <a href="https://docs.google.com/document/d/1PtLvaljOrlc1npacPCGuonil6zkagMNSR1iUa1QKUok/edit?usp=sharing" class="material-button docs" target="_blank">
                            <i class="fas fa-file-alt button-icon"></i>
                            Ver Práctica Semana 13
                        </a>
                    </div>
                </div>
            </section>

            <!-- Semana 14 - Práctica -->
            <section id="semana14-practica" class="week-card">
                <div class="week-header">
                    <div class="week-number">P14</div>
                    <div class="week-titles">
                        <h2>Práctica - Semana 14</h2>
                        <p class="week-subtitle">Trabajo práctico de la semana 14</p>
                    </div>
                    <span class="update-badge">Práctica</span>
                </div>
                <div class="week-body">
                    <div class="week-description">
                        <p>Enlace al desarrollo completo de la práctica correspondiente a la semana 14:</p>
                    </div>
                    <div class="week-actions">
                        <a href="https://docs.google.com/document/d/1NhTSSImw1LB0EeXgx9IVhpzl3eM6phv_W0FUizsOQhU/edit?usp=sharing" class="material-button docs" target="_blank">
                            <i class="fas fa-file-alt button-icon"></i>
                            Ver Práctica Semana 14
                        </a>
                    </div>
                </div>
            </section>
        </div>
    </main>

    <!-- Footer -->
    <footer class="modern-footer">
        <div class="footer-content">
            <div class="footer-section">
                <h3>Proyecto BD II</h3>
                <p>Curso 2024 - Universidad Peruana Los Andes</p>
                <div class="social-icons">
                    <a href="#" target="_blank"><i class="fab fa-github"></i></a>
                    <a href="#" target="_blank"><i class="fab fa-linkedin"></i></a>
                    <a href="#" target="_blank"><i class="fab fa-twitter"></i></a>
                </div>
            </div>
            <div class="footer-section">
                <h3>Recursos</h3>
                <ul>
                    <li><a href="#semana1">Semana 1</a></li>
                    <li><a href="#semana2">Semana 2</a></li>
                    <li><a href="#semana3">Semana 3</a></li>
                    <li><a href="#semana4">Semana 4</a></li>
                    <li><a href="#semana5">Semana 5</a></li>
                    <li><a href="#semana6">Semana 6</a></li>
                    <li><a href="#examen1">Examen Parcial</a></li>
                    <li><a href="#semana10">Semana 10</a></li>
                    <li><a href="#semana11">Semana 11</a></li>
                    <li><a href="#semana12">Semana 12</a></li>
                    <li><a href="#semana13">Semana 13</a></li>
                    <li><a href="#semana14">Semana 14</a></li>
                    <li><a href="#semana15">Semana 15</a></li>
                    <li><a href="#semana13-practica">Práctica 13</a></li>
                    <li><a href="#semana14-practica">Práctica 14</a></li>
                </ul>
            </div>
            <div class="footer-section">
                <h3>Contacto</h3>
                <p><i class="fas fa-envelope"></i> s00054e@upla.edu.pe</p>
                <p><i class="fas fa-phone"></i> +51 959663970</p>
                <p><i class="fas fa-map-marker-alt"></i> Lima, Perú</p>
            </div>
        </div>
        <div class="footer-bottom">
            <p>© 2024 Todos los derechos reservados | Diseñado con ♥ por JIMBOX_EF</p>
        </div>
    </footer>

    <!-- Modales para CRUD -->
    <div id="create-modal" class="modal">
        <div class="modal-content">
            <span class="close-modal" onclick="closeCreateModal()">&times;</span>
            <h2 class="modal-title"><i class="fas fa-plus-circle"></i> Crear Nuevo Proyecto</h2>
            
            <div class="form-group">
                <label for="project-title">Título del Proyecto</label>
                <input type="text" id="project-title" placeholder="Ej: Sistema de Gestión Escolar">
            </div>
            
            <div class="form-group">
                <label for="project-description">Descripción</label>
                <textarea id="project-description" placeholder="Describe tu proyecto..."></textarea>
            </div>
            
            <div class="form-group">
                <label for="project-image">URL de la Imagen (opcional)</label>
                <input type="url" id="project-image" placeholder="https://ejemplo.com/imagen.jpg">
            </div>
            
            <div class="form-actions">
                <button class="cancel-btn" onclick="closeCreateModal()">Cancelar</button>
                <button class="save-btn" onclick="createProject()">Guardar Proyecto</button>
            </div>
        </div>
    </div>

    <div id="edit-modal" class="modal">
        <div class="modal-content">
            <span class="close-modal" onclick="closeEditModal()">&times;</span>
            <h2 class="modal-title"><i class="fas fa-edit"></i> Editar Proyecto</h2>
            <input type="hidden" id="edit-project-id">
            
            <div class="form-group">
                <label for="edit-project-title">Título del Proyecto</label>
                <input type="text" id="edit-project-title" placeholder="Ej: Sistema de Gestión Escolar">
            </div>
            
            <div class="form-group">
                <label for="edit-project-description">Descripción</label>
                <textarea id="edit-project-description" placeholder="Describe tu proyecto..."></textarea>
            </div>
            
            <div class="form-group">
                <label for="edit-project-image">URL de la Imagen (opcional)</label>
                <input type="url" id="edit-project-image" placeholder="https://ejemplo.com/imagen.jpg">
            </div>
            
            <div class="form-actions">
                <button class="cancel-btn" onclick="closeEditModal()">Cancelar</button>
                <button class="save-btn" onclick="updateProject()">Guardar Cambios</button>
            </div>
        </div>
    </div>

    <!-- Scripts -->
    <script>
        // Verificar autenticación al cargar la página
        document.addEventListener('DOMContentLoaded', function() {
            const authOverlay = document.getElementById('auth-overlay');
            const authError = document.getElementById('auth-error');
            
            // Obtener código de autenticación guardado
            const authCode = localStorage.getItem('google_auth_code');
            
            if (!authCode) {
                authOverlay.style.display = 'flex';
                authError.style.display = 'block';
                
                // Redirigir después de 3 segundos
                setTimeout(() => {
                    window.location.href = 'https://lusho170803.github.io/';
                }, 3000);
            } else {
                authOverlay.style.display = 'none';
                // Inicializar proyectos
                renderProjects();
            }
        });
        
        // Función para cerrar sesión
        function logout() {
            // Eliminar datos de autenticación
            localStorage.removeItem('google_auth_code');
            localStorage.removeItem('projects');
            
            // Redirigir a la página de inicio
            window.location.href = 'https://lusho170803.github.io/';
        }
        
        // Efecto de desplazamiento suave para los enlaces del menú
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                
                const targetId = this.getAttribute('href');
                const targetElement = document.querySelector(targetId);
                
                if (targetElement) {
                    window.scrollTo({
                        top: targetElement.offsetTop - 120,
                        behavior: 'smooth'
                    });
                }
            });
        });

        // Efecto de scroll para mostrar las tarjetas
        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.classList.add('visible');
                }
            });
        }, { threshold: 0.1 });

        document.querySelectorAll('.week-card').forEach(card => {
            observer.observe(card);
        });

        // **************************************
        // ** IMPLEMENTACIÓN DEL CRUD DE PROYECTOS
        // **************************************
        
        // Funciones CRUD
        function createProject(project) {
            const projects = JSON.parse(localStorage.getItem('projects')) || [];
            project.id = Date.now(); // ID único basado en timestamp
            projects.push(project);
            localStorage.setItem('projects', JSON.stringify(projects));
            return project;
        }

        function readProjects() {
            return JSON.parse(localStorage.getItem('projects')) || [];
        }

        function updateProject(id, updatedProject) {
            const projects = readProjects();
            const index = projects.findIndex(p => p.id === id);
            
            if (index !== -1) {
                projects[index] = {...projects[index], ...updatedProject};
                localStorage.setItem('projects', JSON.stringify(projects));
                return true;
            }
            return false;
        }

        function deleteProject(id) {
            const projects = readProjects();
            const filtered = projects.filter(p => p.id !== id);
            localStorage.setItem('projects', JSON.stringify(filtered));
            return true;
        }

        // Renderizar proyectos
        function renderProjects() {
            const projectsContainer = document.getElementById('projects-container');
            const projects = readProjects();
            
            projectsContainer.innerHTML = '';
            
            if (projects.length === 0) {
                projectsContainer.innerHTML = `
                    <div class="no-projects" style="grid-column: 1 / -1; text-align: center; padding: 40px; color: #9ad6e3;">
                        <i class="fas fa-inbox" style="font-size: 48px; margin-bottom: 20px;"></i>
                        <h3>No hay proyectos creados</h3>
                        <p>Comienza agregando tu primer proyecto</p>
                    </div>
                `;
                return;
            }
            
            projects.forEach(project => {
                const projectCard = `
                    <div class="project-card-crud">
                        <div class="project-image-crud" 
                             style="${project.image ? `background: url('${project.image}') center/cover;` : ''}">
                        </div>
                        <div class="project-content-crud">
                            <h3 class="project-title-crud">${project.title}</h3>
                            <p class="project-description-crud">${project.description}</p>
                            <div class="project-actions-crud">
                                <button class="action-button edit-btn" onclick="openEditModal(${project.id})">
                                    <i class="fas fa-edit"></i> Editar
                                </button>
                                <button class="action-button delete-btn" onclick="deleteProjectHandler(${project.id})">
                                    <i class="fas fa-trash"></i> Eliminar
                                </button>
                            </div>
                        </div>
                    </div>
                `;
                projectsContainer.innerHTML += projectCard;
            });
        }

        // Controladores de eventos
        function openCreateModal() {
            document.getElementById('project-title').value = '';
            document.getElementById('project-description').value = '';
            document.getElementById('project-image').value = '';
            document.getElementById('create-modal').style.display = 'flex';
        }

        function closeCreateModal() {
            document.getElementById('create-modal').style.display = 'none';
        }

        function openEditModal(id) {
            const projects = readProjects();
            const project = projects.find(p => p.id === id);
            
            if (project) {
                document.getElementById('edit-project-id').value = id;
                document.getElementById('edit-project-title').value = project.title;
                document.getElementById('edit-project-description').value = project.description;
                document.getElementById('edit-project-image').value = project.image || '';
                document.getElementById('edit-modal').style.display = 'flex';
            }
        }

        function closeEditModal() {
            document.getElementById('edit-modal').style.display = 'none';
        }

        function createProject() {
            const title = document.getElementById('project-title').value;
            const description = document.getElementById('project-description').value;
            const image = document.getElementById('project-image').value;
            
            if (!title || !description) {
                alert('Por favor completa título y descripción');
                return;
            }
            
            createProject({ title, description, image });
            renderProjects();
            closeCreateModal();
            alert('Proyecto creado exitosamente!');
        }

        function updateProject() {
            const id = parseInt(document.getElementById('edit-project-id').value);
            const title = document.getElementById('edit-project-title').value;
            const description = document.getElementById('edit-project-description').value;
            const image = document.getElementById('edit-project-image').value;
            
            if (!title || !description) {
                alert('Por favor completa título y descripción');
                return;
            }
            
            if (updateProject(id, { title, description, image })) {
                renderProjects();
                closeEditModal();
                alert('Proyecto actualizado exitosamente!');
            }
        }

        function deleteProjectHandler(id) {
            if (confirm('¿Estás seguro de eliminar este proyecto?')) {
                if (deleteProject(id)) {
                    renderProjects();
                    alert('Proyecto eliminado correctamente');
                }
            }
        }

        function refreshProjects() {
            renderProjects();
            alert('Proyectos actualizados');
        }
    </script>
</body>

</html>
